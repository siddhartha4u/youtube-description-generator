<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>YouTube Description Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      background-color: #f9f9f9;
    }
    h2 {
      color: #222;
    }
    .input-group {
      margin-bottom: 1rem;
    }
    input, button {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.3rem;
      font-size: 1rem;
    }
    button {
      background-color: #007BFF;
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background-color: #0056b3;
    }
    .description-box {
      background-color: white;
      padding: 1rem;
      margin-top: 1rem;
      border-left: 4px solid #007BFF;
    }
    .error {
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h2>YouTube Description Generator (Powered by Gemini)</h2>

  <div class="input-group">
    <label for="title">YouTube Video Title</label>
    <input type="text" id="title" placeholder="Enter YouTube video title" />
  </div>

  <div class="input-group">
    <label for="primaryKeyword">Primary Keyword</label>
    <input type="text" id="primaryKeyword" placeholder="e.g., YouTube SEO" />
  </div>

  <div class="input-group">
    <label for="secondaryKeywords">Secondary Keywords (comma separated, max 5)</label>
    <input type="text" id="secondaryKeywords" placeholder="e.g., tags, ranking, views" />
  </div>

  <button onclick="generateDescriptions()">Generate Description</button>

  <div id="error" class="error"></div>
  <div id="output"></div>

  <script>
    const apiKey = "AIzaSyC3m6k8ONG67lMr3YMEGT4svIWaYxig-BY";

    async function generateDescriptions() {
      const title = document.getElementById("title").value.trim();
      const primaryKeyword = document.getElementById("primaryKeyword").value.trim();
      const secondaryKeywords = document.getElementById("secondaryKeywords").value.trim();

      const errorBox = document.getElementById("error");
      const output = document.getElementById("output");
      errorBox.innerText = "";
      output.innerHTML = "";

      if (!title) {
        errorBox.innerText = "Please enter a YouTube video title.";
        return;
      }

      if (!primaryKeyword) {
        errorBox.innerText = "Please enter a primary keyword.";
        return;
      }

      const secondaryKeywordsList = secondaryKeywords
        ? secondaryKeywords.split(",").map(kw => kw.trim()).filter(Boolean).slice(0, 5)
        : [];

      const prompt = `
Write 5 YouTube video descriptions (100-120 words each) for the following:
Title: ${title}
Primary Keyword: ${primaryKeyword}
Secondary Keywords: ${secondaryKeywordsList.join(", ")}
Each description must naturally include all keywords.`;

      try {
        const res = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`,
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              contents: [{ parts: [{ text: prompt }] }],
            }),
          }
        );

        const data = await res.json();
        const text = data.candidates?.[0]?.content?.parts?.[0]?.text;

        if (!text) {
          throw new Error("No content received from Gemini.");
        }

        const descriptions = text.split(/\n\s*\n/).filter(Boolean);

        descriptions.forEach((desc, i) => {
          const box = document.createElement("div");
          box.className = "description-box";
          box.innerHTML = `<strong>Description ${i + 1}:</strong><br>${desc}`;
          output.appendChild(box);
        });
      } catch (err) {
        errorBox.innerText = "Something went wrong while generating descriptions.";
        console.error(err);
      }
    }
  </script>

</body>
</html>
